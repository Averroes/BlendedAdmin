@model BlendedAdmin.Models.Items.TableViewModel
@inject BlendedAdmin.Services.IUrlService urlService
@inject IJsonHelper jsonHelper;
@using BlendedJS;

@if (string.IsNullOrEmpty(Model.Title) == false)
{
    <h6>@Model.Title</h6>
}

<div class="table-responsive">
    <table class="table table-striped table-sm">
        <thead>
            <tr>
                @foreach (var column in Model.Columns)
                {
                    <th  class="border-top-0" nowrap><a box-order="@column">@column</a></th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Model.Rows)
            {
                <tr>
                    @foreach (var column in Model.Columns)
                    {
                        <td nowrap>
                            @row.GetValueOrDefault2(column).ToJsonOrString()
                        </td>
                    }
                </tr>
            }
            <tr></tr>
        </tbody>
    </table>
</div>
@if (Model.PageCount > 1)
{
<ul class="pagination pagination-sm mt-2">
    <li class="page-item">
        <a class="page-link" href="#">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
        </a>
    </li>
    @for (int page = Model.StartPage; page <= Model.EndPage; page++)
    {
    <li class="page-item @(page == Model.Page ? "active":"")"><a class="page-link" href="@urlService.GetUrlWithQueryString(new { p = page.ToString() })">@(page)</a></li>
    }
    <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
        </a>
    </li>
</ul>
}


